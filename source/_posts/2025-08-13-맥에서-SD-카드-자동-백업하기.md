---
title: 맥에서 SD 카드 자동 백업하기
date: 2025-08-13 10:55:44
tags: backup, sd, lauchctl, rsync
---

촬영 데이터를 자동 백업하기 위해서 스크립트를 작성했습니다.

Sequoia 15.6 , rsync 2.6.9 에서 실행해서 잘 되는 것을 확인했습니다.  
rsync 가 설치되어 있지 않다면 설치하세요.  
저는 [Homebrew](https://brew.sh/)로 사용 중입니다.  
물론 Homebrew가 없다면 Homebrew부터 설치하세요.


```
brew install rsync
```

다음은 명령어를 통해서 설치하는 방법입니다. 자동 백업을 위한 설정 파일 하나와 백업 실행파일 하나를 생성합니다.
[설치 스크립트 조각](https://gist.github.com/kimjj81/9eb50a197a0857f58019e085d3104398)을 아래에 풀어 썼습니다.
bash 스크립트라서 터미널에 복붙하면 됩니다.

### 설정 파일 생성

make_com.sd.autobackup.plist.sh 에서 2군데 경로 를 수정해야 합니다.
```json
      <key>PathState</key>
      <dict>
        <key>SD카드볼륨명</key>
        <true/>
        <key>저장디스크루트</key>
        <true/>
      </dict>
```

### 실행파일 생성

- sd_auto_backup.sh 파일을 만드는 스크립트입니다. 아래에서 수정해야 할 것들이 있습니다. 맞게 수정하세요.
- 백업 대상(외장 디스크 루트 볼륨 이름 + 최종 경로)
- VOLUME_NAME <= SD카드의 이름을 넣어주세요. 파인더에서 왼쪽 패널에 "위치"라고 표시된 곳에서 볼 수 있습니다.
- DEST_ROOT_VOLUME <= 백업할 디스크의 볼륨명을 입력하세요. 
- DEST_SUB_DIRECTORY <= 디렉토리를 이용하세요.
- 예제 : 내장 디스크, 내 계정이름 myname , 문서 폴더에 SDCard 디렉토리에 백업한다면
  - VOLUME_NAME="MySDCard"
  - DEST_ROOT_VOLUME="/Volumes/Macintosh\ HD/"
  - DEST_SUB_DIRECTORY="/Users/myname/Documents/SDCard/"
- SKIP_ON_BATTERY=true <= 배터리 전원일 때는 백업을 하지 않습니다.
- ENABLE_DELETE=true <= 목적지에서 원본에 없는 파일을 삭제합니다. 기본은 false 삭제 안합니다.

