---
title: ì†ê¸€ì”¨ ì—°ìŠµ
auto_menu: true
menu_title: ì†ê¸€ì”¨ ì—°ìŠµ
menu_icon: iconfont icon-edit
menu_order: 100
menu_parent: pages
layout: true
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ì˜¨ë¼ì¸ ì†ê¸€ì”¨ ì—°ìŠµ - ë¬´ë£Œ í•œê¸€ ì“°ê¸° ì—°ìŠµì¥</title>
    <meta name="description" content="ë¬´ë£Œ ì˜¨ë¼ì¸ í•œê¸€ ì†ê¸€ì”¨ ì—°ìŠµ ë„êµ¬ì…ë‹ˆë‹¤. íƒœë¸”ë¦¿ì´ë‚˜ í„°ì¹˜ ê¸°ë°˜ ê¸°ê¸°ì—ì„œ í•œê¸€ ì“°ê¸°ë¥¼ ì—°ìŠµí•˜ì„¸ìš”. ëª…ì¡°ì²´, ì‹œìŠ¤í…œ í°íŠ¸ ì§€ì›, ë°˜ë³µ íšŸìˆ˜ ì¡°ì ˆ ê°€ëŠ¥.">
    <meta name="keywords" content="ì†ê¸€ì”¨ ì—°ìŠµ, í•œê¸€ ì“°ê¸°, ì˜¨ë¼ì¸ ì—°ìŠµì¥, íƒœë¸”ë¦¿ ê¸€ì”¨ ì—°ìŠµ, í•œê¸€ í•„ì‚¬, ìº˜ë¦¬ê·¸ë¼í”¼ ì—°ìŠµ">
    <meta name="author" content="kimjj81">
    <meta property="og:title" content="ì˜¨ë¼ì¸ ì†ê¸€ì”¨ ì—°ìŠµ - ë¬´ë£Œ í•œê¸€ ì“°ê¸° ì—°ìŠµì¥">
    <meta property="og:description" content="íƒœë¸”ë¦¿ì´ë‚˜ í„°ì¹˜ ê¸°ë°˜ ê¸°ê¸°ì—ì„œ í•œê¸€ ì†ê¸€ì”¨ë¥¼ ì—°ìŠµí•  ìˆ˜ ìˆëŠ” ë¬´ë£Œ ì˜¨ë¼ì¸ ë„êµ¬">
    <meta property="og:type" content="website">
    <meta name="robots" content="index, follow">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            overscroll-behavior: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Settings Page */
        #settingsPage {
            display: block;
        }

        #settingsPage.hidden {
            display: none;
        }

        .settings-card {
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        h1 {
            font-size: 28px;
            margin-bottom: 32px;
            color: #333;
            text-align: center;
        }

        .setting-group {
            margin-bottom: 28px;
        }

        .setting-label {
            font-size: 16px;
            font-weight: 600;
            color: #555;
            margin-bottom: 12px;
            display: block;
        }

        .radio-group {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .radio-option {
            flex: 1;
            min-width: 120px;
        }

        .radio-option input[type="radio"] {
            display: none;
        }

        .radio-option label {
            display: block;
            padding: 14px 20px;
            border: 2px solid #ddd;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            font-size: 16px;
            transition: all 0.2s;
            user-select: none;
        }

        .radio-option input[type="radio"]:checked + label {
            border-color: #007AFF;
            background: #007AFF;
            color: white;
            font-weight: 600;
        }

        .text-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 18px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        .text-input:focus {
            outline: none;
            border-color: #007AFF;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #007AFF;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #007AFF;
            cursor: pointer;
            border: none;
        }

        .slider-value {
            font-size: 20px;
            font-weight: 600;
            color: #007AFF;
            min-width: 40px;
            text-align: center;
        }

        .btn-primary {
            width: 100%;
            padding: 18px;
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 12px;
        }

        .btn-primary:active {
            background: #0051D5;
        }

        /* Practice Page */
        #practicePage {
            display: none;
        }

        #practicePage.active {
            display: block;
        }

        .practice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            gap: 12px;
            flex-wrap: wrap;
        }

        .size-selector {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .size-selector .radio-option {
            flex: initial;
            min-width: auto;
        }

        .size-selector .radio-option label {
            padding: 10px 16px;
            font-size: 14px;
        }

        .btn-secondary {
            padding: 12px 24px;
            background: white;
            color: #007AFF;
            border: 2px solid #007AFF;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-secondary:active {
            background: #f0f0f0;
        }

        .btn-reset {
            padding: 12px 24px;
            background: #FF3B30;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-reset:active {
            background: #D70015;
        }

        .practice-area {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .character-row {
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 2px solid #eee;
        }

        .character-row:last-child {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .char-line {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .char-line:last-child {
            margin-bottom: 0;
        }

        .reference-box {
            position: relative;
            flex-shrink: 0;
            border: 3px solid #333;
            border-radius: 8px;
            background: #fafafa;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .practice-box {
            position: relative;
            flex-shrink: 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: crosshair;
        }

        .practice-box canvas {
            display: block;
            touch-action: none;
            position: relative;
            z-index: 2;
        }

        .guide-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ccc;
            pointer-events: none;
            user-select: none;
            z-index: 1;
        }

        .reference-text {
            color: #000;
            font-weight: 700;
        }

        /* Size variations */
        .size-small .reference-box,
        .size-small .practice-box {
            width: 80px;
            height: 80px;
        }

        .size-small .guide-text,
        .size-small .reference-text {
            font-size: 48px;
        }

        .size-medium .reference-box,
        .size-medium .practice-box {
            width: 120px;
            height: 120px;
        }

        .size-medium .guide-text,
        .size-medium .reference-text {
            font-size: 72px;
        }

        .size-large .reference-box,
        .size-large .practice-box {
            width: 160px;
            height: 160px;
        }

        .size-large .guide-text,
        .size-large .reference-text {
            font-size: 96px;
        }

        /* Custom font family will be applied via inline style */

        /* Device notice */
        .device-notice {
            background: #E3F2FD;
            border-left: 4px solid #2196F3;
            padding: 16px 20px;
            margin-bottom: 24px;
            border-radius: 8px;
            font-size: 14px;
            color: #1565C0;
            line-height: 1.6;
        }

        .device-notice strong {
            display: block;
            margin-bottom: 4px;
            font-size: 15px;
        }

        /* Sentence mode styles */
        .sentence-line {
            margin-bottom: 32px;
            padding: 24px;
            background: #f9f9f9;
            border-radius: 12px;
        }

        .sentence-reference {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            padding: 16px;
            background: white;
            border-radius: 8px;
            border: 3px solid #333;
            text-align: center;
            word-wrap: break-word;
        }

        .sentence-practice-box {
            position: relative;
            width: 100%;
            min-height: 100px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            margin-bottom: 16px;
            padding: 8px;
        }

        .sentence-practice-box:last-child {
            margin-bottom: 0;
        }

        .sentence-practice-box canvas {
            display: block;
            width: 100%;
            height: 100%;
            touch-action: none;
        }

        .sentence-guide-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #e0e0e0;
            font-size: 20px;
            pointer-events: none;
            user-select: none;
            text-align: center;
            width: 90%;
            word-wrap: break-word;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 32px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: #333;
        }

        .modal-close {
            font-size: 32px;
            color: #999;
            cursor: pointer;
            border: none;
            background: none;
            padding: 0;
            width: 32px;
            height: 32px;
            line-height: 1;
        }

        .modal-close:hover {
            color: #333;
        }

        .sentence-list {
            list-style: none;
        }

        .sentence-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            background: #f5f5f5;
            border-radius: 8px;
        }

        .sentence-text {
            flex: 1;
            font-size: 16px;
            color: #333;
            word-break: break-word;
        }

        .btn-delete {
            padding: 8px 16px;
            background: #FF3B30;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            margin-left: 12px;
        }

        .btn-delete:active {
            background: #D70015;
        }

        .empty-message {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            font-size: 16px;
        }

    </style>
</head>
<body>
    <div class="container">
        <!-- Settings Page -->
        <div id="settingsPage">
            <div class="device-notice">
                <strong>ğŸ“± í„°ì¹˜ ê¸°ë°˜ ê¸°ê¸° ê¶Œì¥</strong>
                ì´ ë„êµ¬ëŠ” íƒœë¸”ë¦¿, ì•„ì´íŒ¨ë“œ, í„°ì¹˜ìŠ¤í¬ë¦° ë…¸íŠ¸ë¶ ë“± í„°ì¹˜ ì…ë ¥ì´ ê°€ëŠ¥í•œ ê¸°ê¸°ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë§ˆìš°ìŠ¤ë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, í„°ì¹˜íœì´ë‚˜ ì†ê°€ë½ìœ¼ë¡œ ì‚¬ìš©í•˜ì‹œë©´ ë” ì¢‹ì€ ì—°ìŠµ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.
            </div>
            <div class="settings-card">
                <h1>ì†ê¸€ì”¨ ì—°ìŠµ ì„¤ì •</h1>

                <div class="setting-group">
                    <label class="setting-label">í°íŠ¸ ì„ íƒ</label>
                    <select class="text-input" id="fontSelect">
                        <optgroup label="í•œê¸€ í°íŠ¸">
                            <option value="'Nanum Myeongjo', serif" selected>ë‚˜ëˆ”ëª…ì¡°</option>
                            <option value="'Nanum Gothic', sans-serif">ë‚˜ëˆ”ê³ ë”•</option>
                            <option value="'Malgun Gothic', sans-serif">ë§‘ì€ ê³ ë”•</option>
                            <option value="'Batang', serif">ë°”íƒ•</option>
                            <option value="'Gulim', sans-serif">êµ´ë¦¼</option>
                            <option value="'Dotum', sans-serif">ë‹ì›€</option>
                        </optgroup>
                        <optgroup label="ì˜ì–´ í°íŠ¸">
                            <option value="'Times New Roman', serif">Times New Roman</option>
                            <option value="'Georgia', serif">Georgia</option>
                            <option value="'Arial', sans-serif">Arial</option>
                            <option value="'Helvetica', sans-serif">Helvetica</option>
                            <option value="'Verdana', sans-serif">Verdana</option>
                        </optgroup>
                        <optgroup label="ì˜ì–´ í•„ê¸°ì²´">
                            <option value="'Brush Script MT', cursive">Brush Script MT</option>
                            <option value="'Lucida Handwriting', cursive">Lucida Handwriting</option>
                            <option value="'Lucida Calligraphy', cursive">Lucida Calligraphy</option>
                            <option value="'Bradley Hand', cursive">Bradley Hand</option>
                            <option value="'Snell Roundhand', cursive">Snell Roundhand</option>
                            <option value="'Apple Chancery', cursive">Apple Chancery</option>
                            <option value="'Zapfino', cursive">Zapfino</option>
                        </optgroup>
                        <optgroup label="ê¸°íƒ€">
                            <option value="'Courier New', monospace">Courier New (ê³ ì •í­)</option>
                            <option value="'Comic Sans MS', cursive">Comic Sans MS</option>
                        </optgroup>
                    </select>
                </div>

                <div class="setting-group">
                    <label class="setting-label">ì—°ìŠµ ëª¨ë“œ</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="mode-char" name="practice-mode" value="char" checked>
                            <label for="mode-char">ê¸€ìë³„ ì—°ìŠµ</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="mode-sentence" name="practice-mode" value="sentence">
                            <label for="mode-sentence">ë¬¸ì¥ ë°˜ë³µ ì—°ìŠµ</label>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <label class="setting-label">ì—°ìŠµí•  ë¬¸ì¥</label>
                    <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                        <select class="text-input" id="sentencePreset" style="flex: 1;">
                            <option value="">ì˜ˆì‹œ ë¬¸ì¥ ì„ íƒ...</option>
                            <optgroup label="í•œê¸€">
                                <option value="ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ì•„ìì°¨ì¹´íƒ€íŒŒí•˜">í•œê¸€ ììŒ ìˆœì„œ</option>
                                <option value="ë¹ ë¥¸ ê°ˆìƒ‰ ì—¬ìš°ê°€ ê²Œìœ¼ë¥¸ ê°œë¥¼ ë›°ì–´ë„˜ìŠµë‹ˆë‹¤">ë¹ ë¥¸ ì—¬ìš° (í•œê¸€ íŒ¡ê·¸ë¨)</option>
                                <option value="í‚¤ìŠ¤ì˜ ê³ ìœ  ì¡°ê±´ì€ ì…ìˆ ë¼ë¦¬ ë§Œë‚˜ì•¼ í•˜ê³ ">í‚¤ìŠ¤ì˜ ê³ ìœ  ì¡°ê±´</option>
                                <option value="ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´ì— íƒ€ê³ íŒŒ">ë‹¤ëŒì¥ í—Œ ì³‡ë°”í€´</option>
                                <option value="ì„¸ìƒì—ì„œ ê°€ì¥ ì•„ë¦„ë‹¤ìš´ ê²ƒì€ ê¿ˆì„ ê¾¸ëŠ” ìš©ê¸°ë‹¤">ì•„ë¦„ë‹¤ìš´ ê¿ˆ</option>
                            </optgroup>
                            <optgroup label="ì˜ì–´">
                                <option value="The quick brown fox jumps over the lazy dog">The quick brown fox (Pangram)</option>
                                <option value="Pack my box with five dozen liquor jugs">Pack my box (Pangram)</option>
                                <option value="How vexingly quick daft zebras jump">Vexing zebras (Pangram)</option>
                                <option value="Sphinx of black quartz, judge my vow">Sphinx quartz (Pangram)</option>
                                <option value="The five boxing wizards jump quickly">Boxing wizards (Pangram)</option>
                                <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZ">Uppercase Alphabet</option>
                                <option value="abcdefghijklmnopqrstuvwxyz">Lowercase Alphabet</option>
                            </optgroup>
                            <optgroup label="ì˜ì–´ í•„ê¸°ì²´ ì—°ìŠµ">
                                <option value="Love conquers all things">Love conquers all</option>
                                <option value="Practice makes perfect every day">Practice makes perfect</option>
                                <option value="Beautiful handwriting takes patience">Beautiful handwriting</option>
                                <option value="The art of beautiful writing">Art of writing</option>
                                <option value="Graceful letters flow smoothly">Graceful letters</option>
                            </optgroup>
                            <optgroup label="ë‚´ê°€ ì¶”ê°€í•œ ë¬¸ì¥">
                            </optgroup>
                        </select>
                    </div>
                    <input type="text" class="text-input" id="sentenceInput" value="ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ì•„ìì°¨ì¹´íƒ€íŒŒí•˜" placeholder="ì—°ìŠµí•  ê¸€ìë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    <div style="display: flex; gap: 8px; margin-top: 8px;">
                        <button class="btn-secondary" id="saveSentenceBtn" style="flex: 1;">í˜„ì¬ ë¬¸ì¥ ì €ì¥</button>
                        <button class="btn-secondary" id="manageSentencesBtn" style="flex: 1;">ì €ì¥ëœ ë¬¸ì¥ ê´€ë¦¬</button>
                    </div>
                </div>

                <div class="setting-group">
                    <label class="setting-label">ê¸€ìë‹¹ ì—°ìŠµ íšŸìˆ˜</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="repetitionSlider" min="1" max="20" value="10">
                        <span class="slider-value" id="repetitionValue">10</span>
                    </div>
                </div>

                <button class="btn-primary" id="generateBtn">ì—°ìŠµì§€ ìƒì„±</button>
            </div>
        </div>

        <!-- Practice Page -->
        <div id="practicePage">
            <div class="practice-header">
                <button class="btn-secondary" id="backBtn">â† ì„¤ì •ìœ¼ë¡œ</button>
                <div class="size-selector">
                    <div class="radio-option">
                        <input type="radio" id="practice-size-small" name="practice-size" value="small">
                        <label for="practice-size-small">ì‘ê²Œ</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="practice-size-medium" name="practice-size" value="medium" checked>
                        <label for="practice-size-medium">ë³´í†µ</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="practice-size-large" name="practice-size" value="large">
                        <label for="practice-size-large">í¬ê²Œ</label>
                    </div>
                </div>
                <button class="btn-reset" id="resetAllBtn">ì „ì²´ ì´ˆê¸°í™”</button>
            </div>
            <div class="practice-area" id="practiceArea"></div>
        </div>

        <!-- Sentence Management Modal -->
        <div class="modal" id="sentenceModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">ì €ì¥ëœ ë¬¸ì¥ ê´€ë¦¬</h2>
                    <button class="modal-close" id="closeModal">&times;</button>
                </div>
                <ul class="sentence-list" id="sentenceList"></ul>
            </div>
        </div>
    </div>

    <script>
        // Settings management
        const settings = {
            font: "'Nanum Myeongjo', serif",
            sentence: 'ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ì•„ìì°¨ì¹´íƒ€íŒŒí•˜',
            size: 'medium',
            repetitions: 10,
            mode: 'char' // 'char' or 'sentence'
        };

        // Local storage for custom sentences
        const STORAGE_KEY = 'handwriting_custom_sentences';

        function getCustomSentences() {
            const stored = localStorage.getItem(STORAGE_KEY);
            return stored ? JSON.parse(stored) : [];
        }

        function saveCustomSentences(sentences) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(sentences));
            updateCustomSentencesDropdown();
        }

        function addCustomSentence(sentence) {
            const sentences = getCustomSentences();
            if (!sentences.includes(sentence) && sentence.trim()) {
                sentences.push(sentence);
                saveCustomSentences(sentences);
                return true;
            }
            return false;
        }

        function deleteCustomSentence(sentence) {
            const sentences = getCustomSentences();
            const filtered = sentences.filter(s => s !== sentence);
            saveCustomSentences(filtered);
        }

        function updateCustomSentencesDropdown() {
            const select = document.getElementById('sentencePreset');
            const customGroup = select.querySelector('optgroup[label="ë‚´ê°€ ì¶”ê°€í•œ ë¬¸ì¥"]');

            // Clear existing custom options
            customGroup.innerHTML = '';

            // Add custom sentences
            const customSentences = getCustomSentences();
            customSentences.forEach(sentence => {
                const option = document.createElement('option');
                option.value = sentence;
                option.textContent = sentence;
                customGroup.appendChild(option);
            });
        }

        // Canvas drawing state
        let isDrawing = false;
        let currentCanvas = null;

        // Initialize custom sentences dropdown on load
        document.addEventListener('DOMContentLoaded', () => {
            updateCustomSentencesDropdown();
        });

        // Preset sentence selection
        document.getElementById('sentencePreset').addEventListener('change', (e) => {
            if (e.target.value) {
                document.getElementById('sentenceInput').value = e.target.value;
            }
        });

        // Save current sentence
        document.getElementById('saveSentenceBtn').addEventListener('click', () => {
            const sentence = document.getElementById('sentenceInput').value.trim();
            if (!sentence) {
                alert('ì €ì¥í•  ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            if (addCustomSentence(sentence)) {
                alert('ë¬¸ì¥ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
            } else {
                alert('ì´ë¯¸ ì €ì¥ëœ ë¬¸ì¥ì´ê±°ë‚˜ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
        });

        // Manage sentences modal
        const modal = document.getElementById('sentenceModal');
        const manageSentencesBtn = document.getElementById('manageSentencesBtn');
        const closeModal = document.getElementById('closeModal');

        manageSentencesBtn.addEventListener('click', () => {
            showSentenceModal();
        });

        closeModal.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        function showSentenceModal() {
            const sentences = getCustomSentences();
            const list = document.getElementById('sentenceList');
            list.innerHTML = '';

            if (sentences.length === 0) {
                list.innerHTML = '<div class="empty-message">ì €ì¥ëœ ë¬¸ì¥ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            } else {
                sentences.forEach(sentence => {
                    const li = document.createElement('li');
                    li.className = 'sentence-item';

                    const text = document.createElement('span');
                    text.className = 'sentence-text';
                    text.textContent = sentence;

                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'btn-delete';
                    deleteBtn.textContent = 'ì‚­ì œ';
                    deleteBtn.addEventListener('click', () => {
                        if (confirm(`"${sentence}"ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                            deleteCustomSentence(sentence);
                            showSentenceModal(); // Refresh the list
                        }
                    });

                    li.appendChild(text);
                    li.appendChild(deleteBtn);
                    list.appendChild(li);
                });
            }

            modal.classList.add('active');
        }

        // Update repetition value display
        const repetitionSlider = document.getElementById('repetitionSlider');
        const repetitionValue = document.getElementById('repetitionValue');
        repetitionSlider.addEventListener('input', (e) => {
            repetitionValue.textContent = e.target.value;
        });

        // Generate practice sheet
        document.getElementById('generateBtn').addEventListener('click', () => {
            // Get settings
            settings.font = document.getElementById('fontSelect').value;
            settings.sentence = document.getElementById('sentenceInput').value.trim();
            settings.size = 'medium'; // Default to medium
            settings.repetitions = parseInt(repetitionSlider.value);
            settings.mode = document.querySelector('input[name="practice-mode"]:checked').value;

            if (!settings.sentence) {
                alert('ì—°ìŠµí•  ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // Generate practice area
            generatePracticeArea();

            // Set the practice page size selector to match
            document.getElementById('practice-size-medium').checked = true;

            // Switch pages
            document.getElementById('settingsPage').classList.add('hidden');
            document.getElementById('practicePage').classList.add('active');
        });

        // Back to settings
        document.getElementById('backBtn').addEventListener('click', () => {
            document.getElementById('practicePage').classList.remove('active');
            document.getElementById('settingsPage').classList.remove('hidden');
        });

        // Reset all
        document.getElementById('resetAllBtn').addEventListener('click', () => {
            if (confirm('ëª¨ë“  ì—°ìŠµ ë‚´ìš©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                generatePracticeArea();
            }
        });

        // Dynamic size change in practice page
        document.querySelectorAll('input[name="practice-size"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                settings.size = e.target.value;
                updatePracticeAreaSize();
            });
        });

        // Generate practice area
        function generatePracticeArea() {
            const practiceArea = document.getElementById('practiceArea');
            practiceArea.innerHTML = '';
            practiceArea.className = `practice-area size-${settings.size}`;
            practiceArea.style.fontFamily = settings.font;

            if (settings.mode === 'sentence') {
                generateSentenceMode();
            } else {
                generateCharMode();
            }
        }

        // Character by character mode
        function generateCharMode() {
            const practiceArea = document.getElementById('practiceArea');
            const characters = Array.from(settings.sentence);

            characters.forEach(char => {
                if (char.trim() === '') return;

                const row = document.createElement('div');
                row.className = 'character-row';

                // Create lines for this character
                const boxes = [];

                // Reference box
                const refBox = document.createElement('div');
                refBox.className = 'reference-box';
                const refText = document.createElement('div');
                refText.className = 'guide-text reference-text';
                refText.textContent = char;
                refBox.appendChild(refText);
                boxes.push(refBox);

                // Practice boxes
                for (let i = 0; i < settings.repetitions; i++) {
                    const practiceBox = createPracticeBox(char);
                    boxes.push(practiceBox);
                }

                // Create a single line with reference + all practice boxes
                const line = document.createElement('div');
                line.className = 'char-line';
                boxes.forEach(box => line.appendChild(box));
                row.appendChild(line);

                practiceArea.appendChild(row);
            });
        }

        // Sentence repetition mode
        function generateSentenceMode() {
            const practiceArea = document.getElementById('practiceArea');

            // Create container for sentence practice
            const sentenceLine = document.createElement('div');
            sentenceLine.className = 'sentence-line';

            // Reference sentence
            const refBox = document.createElement('div');
            refBox.className = 'sentence-reference';
            refBox.textContent = settings.sentence;
            refBox.style.fontFamily = settings.font;
            sentenceLine.appendChild(refBox);

            // Practice boxes for repeating the sentence
            for (let i = 0; i < settings.repetitions; i++) {
                const practiceBox = createSentencePracticeBox(settings.sentence);
                sentenceLine.appendChild(practiceBox);
            }

            practiceArea.appendChild(sentenceLine);
        }

        // Create sentence practice box
        function createSentencePracticeBox(sentence) {
            const box = document.createElement('div');
            box.className = 'sentence-practice-box';

            const guideText = document.createElement('div');
            guideText.className = 'sentence-guide-text';
            guideText.textContent = sentence;
            guideText.style.fontFamily = settings.font;
            box.appendChild(guideText);

            const canvas = document.createElement('canvas');
            box.appendChild(canvas);

            // Set canvas size after it's appended to DOM
            setTimeout(() => {
                const boxWidth = box.offsetWidth || 800;
                canvas.width = boxWidth - 16; // Account for padding
                canvas.height = 100;

                // Reinitialize context after resize
                const ctx = canvas.getContext('2d');
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.lineWidth = 3;
                ctx.strokeStyle = '#000';
            }, 0);

            const ctx = canvas.getContext('2d');
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#000';

            // Drawing events
            let drawing = false;
            let lastX = 0;
            let lastY = 0;

            function getPosition(e) {
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches ? e.touches[0] : e;
                const scaleX = canvas.width / rect.width;
                const scaleY = canvas.height / rect.height;
                return {
                    x: (touch.clientX - rect.left) * scaleX,
                    y: (touch.clientY - rect.top) * scaleY
                };
            }

            function startDrawing(e) {
                e.preventDefault();
                drawing = true;
                const pos = getPosition(e);
                lastX = pos.x;
                lastY = pos.y;
            }

            function draw(e) {
                if (!drawing) return;
                e.preventDefault();

                const pos = getPosition(e);
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(pos.x, pos.y);
                ctx.stroke();

                lastX = pos.x;
                lastY = pos.y;
            }

            function stopDrawing(e) {
                if (drawing) {
                    e.preventDefault();
                }
                drawing = false;
            }

            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Touch events
            canvas.addEventListener('touchstart', startDrawing, { passive: false });
            canvas.addEventListener('touchmove', draw, { passive: false });
            canvas.addEventListener('touchend', stopDrawing, { passive: false });
            canvas.addEventListener('touchcancel', stopDrawing, { passive: false });

            return box;
        }

        // Create practice box with canvas
        function createPracticeBox(char) {
            const box = document.createElement('div');
            box.className = 'practice-box';

            const guideText = document.createElement('div');
            guideText.className = 'guide-text';
            guideText.textContent = char;
            box.appendChild(guideText);

            const canvas = document.createElement('canvas');
            const size = getSizeValue(settings.size);
            canvas.width = size;
            canvas.height = size;
            box.appendChild(canvas);

            const ctx = canvas.getContext('2d');
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#000';

            // Drawing events
            let drawing = false;
            let lastX = 0;
            let lastY = 0;

            function getPosition(e) {
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches ? e.touches[0] : e;
                return {
                    x: touch.clientX - rect.left,
                    y: touch.clientY - rect.top
                };
            }

            function startDrawing(e) {
                e.preventDefault();
                drawing = true;
                const pos = getPosition(e);
                lastX = pos.x;
                lastY = pos.y;
            }

            function draw(e) {
                if (!drawing) return;
                e.preventDefault();

                const pos = getPosition(e);
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(pos.x, pos.y);
                ctx.stroke();

                lastX = pos.x;
                lastY = pos.y;
            }

            function stopDrawing(e) {
                if (drawing) {
                    e.preventDefault();
                }
                drawing = false;
            }

            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Touch events
            canvas.addEventListener('touchstart', startDrawing, { passive: false });
            canvas.addEventListener('touchmove', draw, { passive: false });
            canvas.addEventListener('touchend', stopDrawing, { passive: false });
            canvas.addEventListener('touchcancel', stopDrawing, { passive: false });

            return box;
        }

        // Get size value in pixels
        function getSizeValue(size) {
            switch(size) {
                case 'small': return 80;
                case 'medium': return 120;
                case 'large': return 160;
                default: return 120;
            }
        }

        // Update practice area size dynamically
        function updatePracticeAreaSize() {
            const practiceArea = document.getElementById('practiceArea');
            const newSize = getSizeValue(settings.size);

            // Update class for CSS-based sizing
            practiceArea.className = `practice-area size-${settings.size}`;
            practiceArea.style.fontFamily = settings.font;

            // Update all canvas sizes
            const canvases = practiceArea.querySelectorAll('canvas');
            canvases.forEach(canvas => {
                // Save current drawing
                const imageData = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);
                const oldWidth = canvas.width;
                const oldHeight = canvas.height;

                // Resize canvas
                canvas.width = newSize;
                canvas.height = newSize;

                // Restore context settings
                const ctx = canvas.getContext('2d');
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.lineWidth = 3;
                ctx.strokeStyle = '#000';

                // Scale and restore drawing
                if (oldWidth > 0 && oldHeight > 0) {
                    const scale = newSize / oldWidth;
                    ctx.scale(scale, scale);
                    ctx.putImageData(imageData, 0, 0);
                    ctx.setTransform(1, 0, 0, 1, 0, 0); // Reset transform
                }
            });
        }
    </script>
</body>
</html>
